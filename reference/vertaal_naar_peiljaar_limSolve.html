<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Functie die indicatoren corrigeert voor grenswijzigingen — vertaal_naar_peiljaar_limSolve • grenswijzigen</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Functie die indicatoren corrigeert voor grenswijzigingen — vertaal_naar_peiljaar_limSolve"><meta name="description" content="Deze functie corrigeert indicatoren op basis van model.2. Het is
nodig om zelf het type indicator aan te geven ('aandeel' of 'aantal'). Het
wordt geadviseerd gebruik te maken van de generieke wrapper functie
wrapper_vertaal_naar_peiljaar. Deze functie is gebasseerd het
oplossen van een stelsel vergelijkingen met behulp van de functie
lsei."><meta property="og:description" content="Deze functie corrigeert indicatoren op basis van model.2. Het is
nodig om zelf het type indicator aan te geven ('aandeel' of 'aantal'). Het
wordt geadviseerd gebruik te maken van de generieke wrapper functie
wrapper_vertaal_naar_peiljaar. Deze functie is gebasseerd het
oplossen van een stelsel vergelijkingen met behulp van de functie
lsei."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">grenswijzigen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/grenswijzigen.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Functie die indicatoren corrigeert voor grenswijzigingen</h1>

      <div class="d-none name"><code>vertaal_naar_peiljaar_limSolve.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Deze functie corrigeert indicatoren op basis van model.2. Het is
nodig om zelf het type indicator aan te geven ('aandeel' of 'aantal'). Het
wordt geadviseerd gebruik te maken van de generieke wrapper functie
<code><a href="wrapper_vertaal_naar_peiljaar.html">wrapper_vertaal_naar_peiljaar</a></code>. Deze functie is gebasseerd het
oplossen van een stelsel vergelijkingen met behulp van de functie
<code><a href="https://rdrr.io/pkg/limSolve/man/lsei.html" class="external-link">lsei</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">vertaal_naar_peiljaar_limSolve</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">oorspronkelijk_jaar</span>,</span>
<span>  <span class="va">peiljaar</span>,</span>
<span>  type_kolommen <span class="op">=</span> <span class="st">"aantal"</span>,</span>
<span>  regionaalniveau <span class="op">=</span> <span class="st">"wijk"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>dataframe met features op wijkniveau op basis van wijkindeling van
1 bepaald jaar (oorspronkelijk_jaar) en peiljaar.</p></dd>


<dt id="arg-oorspronkelijk-jaar">oorspronkelijk_jaar<a class="anchor" aria-label="anchor" href="#arg-oorspronkelijk-jaar"></a></dt>
<dd><p>jaar waarin de features in df zijn gegeven</p></dd>


<dt id="arg-peiljaar">peiljaar<a class="anchor" aria-label="anchor" href="#arg-peiljaar"></a></dt>
<dd><p>jaar waarnaartoe de features moeten worden omgezet</p></dd>


<dt id="arg-type-kolommen">type_kolommen<a class="anchor" aria-label="anchor" href="#arg-type-kolommen"></a></dt>
<dd><p>welk type is de kolom, 'aantal' of 'aandeel'?</p></dd>


<dt id="arg-regionaalniveau">regionaalniveau<a class="anchor" aria-label="anchor" href="#arg-regionaalniveau"></a></dt>
<dd><p>op welk regionaalniveau moet de omzetting plaats vinden?
Keuze uit 'wijk' en 'gemeente'.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>dataframe met features op wijkniveau op basis van wijkindeling van
peiljaar</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://reidhin.github.io/grenswijzigen/">grenswijzigen</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edwindj/cbsodataR" class="external-link">cbsodataR</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># laad de kerncijfers per wijk voor 2017 en 2018</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/cbsodataR/man/cbs_get_data.html" class="external-link">cbs_get_data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    id<span class="op">=</span><span class="st">"83765NED"</span>,</span></span>
<span class="r-in"><span>    WijkenEnBuurten <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/cbsodataR/man/has_substring.html" class="external-link">has_substring</a></span><span class="op">(</span><span class="st">"WK"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WijkenEnBuurten"</span>, <span class="st">"AantalInwoners_5"</span>, <span class="st">"k_65JaarOfOuder_12"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    jaar<span class="op">=</span><span class="fl">2017</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/pkg/cbsodataR/man/cbs_get_data.html" class="external-link">cbs_get_data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    id<span class="op">=</span><span class="st">"84286NED"</span>,</span></span>
<span class="r-in"><span>    WijkenEnBuurten <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/cbsodataR/man/has_substring.html" class="external-link">has_substring</a></span><span class="op">(</span><span class="st">"WK"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WijkenEnBuurten"</span>, <span class="st">"AantalInwoners_5"</span>, <span class="st">"k_65JaarOfOuder_12"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    jaar<span class="op">=</span><span class="fl">2018</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  gwb_code<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"^WK"</span>, <span class="st">""</span>, <span class="va">WijkenEnBuurten</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">WijkenEnBuurten</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># laat de wijken in Wageningen zien (gwb_code begint met 0289)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^0289"</span>, <span class="va">gwb_code</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 14 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    AantalInwoners_5 k_65JaarOfOuder_12  jaar gwb_code</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>            <span style="text-decoration: underline;">33</span>885               <span style="text-decoration: underline;">5</span>125  <span style="text-decoration: underline;">2</span>017 028900  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>             <span style="text-decoration: underline;">4</span>570                800  <span style="text-decoration: underline;">2</span>017 028901  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>             <span style="text-decoration: underline;">4</span>725                440  <span style="text-decoration: underline;">2</span>018 028901  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>             <span style="text-decoration: underline;">2</span>480                  5  <span style="text-decoration: underline;">2</span>018 028902  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>             <span style="text-decoration: underline;">2</span>750                540  <span style="text-decoration: underline;">2</span>018 028903  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>             <span style="text-decoration: underline;">2</span>085                360  <span style="text-decoration: underline;">2</span>018 028904  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>             <span style="text-decoration: underline;">3</span>175                 30  <span style="text-decoration: underline;">2</span>018 028905  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>             <span style="text-decoration: underline;">6</span>895               <span style="text-decoration: underline;">1</span>435  <span style="text-decoration: underline;">2</span>018 028906  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>             <span style="text-decoration: underline;">5</span>190                750  <span style="text-decoration: underline;">2</span>018 028907  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>             <span style="text-decoration: underline;">2</span>505                560  <span style="text-decoration: underline;">2</span>018 028908  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>             <span style="text-decoration: underline;">3</span>530                505  <span style="text-decoration: underline;">2</span>018 028909  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>             <span style="text-decoration: underline;">2</span>525                710  <span style="text-decoration: underline;">2</span>018 028910  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span>             <span style="text-decoration: underline;">1</span>175                405  <span style="text-decoration: underline;">2</span>018 028911  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span>             <span style="text-decoration: underline;">1</span>370                385  <span style="text-decoration: underline;">2</span>018 028912  </span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># Omzetten van de data van 2017 naar 2018</span></span></span>
<span class="r-in"><span><span class="va">df_omgezet</span> <span class="op">&lt;-</span> <span class="fu">vertaal_naar_peiljaar_limSolve</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">df</span>,</span></span>
<span class="r-in"><span>  oorspronkelijk_jaar <span class="op">=</span> <span class="fl">2017</span>,</span></span>
<span class="r-in"><span>  peiljaar <span class="op">=</span> <span class="fl">2018</span>,</span></span>
<span class="r-in"><span>  type_kolommen <span class="op">=</span> <span class="st">"aantal"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Aantal rijen omgezette data-frame: 3085"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># laat de omgezette wijken in Wageningen zien</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">df_omgezet</span>, <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^0289"</span>, <span class="va">gwb_code</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      AantalInwoners_5 k_65JaarOfOuder_12 jaar gwb_code berekend</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 581          4729.277         422.893689 2017   028901     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5910         2480.632           2.473616 2017   028902     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60           2751.938         532.249797 2017   028903     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 61           2086.185         355.258833 2017   028904     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6210         3177.715          19.140689 2017   028905     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 635          6916.329        1349.684404 2017   028906     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6410         5198.683         715.267173 2017   028907     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6510         2507.733         549.068773 2017   028908     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6610         3533.583         490.668989 2017   028909     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6710         2527.318         700.728511 2017   028910     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6810         1175.408         403.367688 2017   028911     TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6910         1370.201         384.197838 2017   028912     TRUE</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hans Weda.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

